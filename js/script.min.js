function cleanActive(a,b){for(var c=0;!a[c].classList.contains("active");)c++;return a[c].classList.remove("active"),b[c].classList.remove("active"),c}function prevSlide(){var a=cleanActive(slides,slidePages);0==a?a=slides.length-1:a-=1,slides[a].classList.add("active"),slidePages[a].classList.add("active")}function nextSlide(){var a=cleanActive(slides,slidePages);a==slides.length-1?a=0:a++,slides[a].classList.add("active"),slidePages[a].classList.add("active")}function clickPage(a,b){a.addEventListener("click",function(c){c.preventDefault(),cleanActive(slides,slidePages),a.classList.add("active"),b.classList.add("active")})}function clickTabs(a,b){a.addEventListener("click",function(c){c.preventDefault(),cleanActive(serviceTabs,serviceBlocks),a.classList.add("active"),b.classList.add("active")})}function closeWindows(){modalCart.classList.contains("modal-show")&&modalCart.classList.remove("modal-show"),modalWriteUs&&modalWriteUs.classList.contains("modal-show")&&modalWriteUs.classList.remove("modal-show"),modalWriteUs&&modalWriteUs.classList.contains("modal-error")&&modalWriteUs.classList.remove("modal-error"),mapBlock&&mapBlock.classList.contains("show-window")&&mapBlock.classList.remove("show-window")}var prev=document.querySelector(".prev"),next=document.querySelector(".next"),slides=document.querySelectorAll(".slide"),slidePages=document.querySelectorAll(".slide-page li"),modalCart=document.querySelector(".modal-cart"),buttonBuy=document.querySelectorAll(".buy"),modalWriteUs=document.querySelector(".modal-write-us"),modalClose=document.querySelectorAll(".modal-close"),buttonWriteUs=document.querySelector(".contacts-map .btn"),btnContinue=document.querySelector(".continue"),serviceTabs=document.querySelectorAll(".service-navigation a"),serviceBlocks=document.querySelectorAll(".service-about"),mapBlock=document.querySelector(".modal-map"),mapLink=document.querySelector(".map-mini");if(modalWriteUs){var form=modalWriteUs.querySelector("form"),userName=modalWriteUs.querySelector("[name=user-name]"),eMail=modalWriteUs.querySelector("[name=e-mail]"),textArea=modalWriteUs.querySelector("[name=text]");buttonWriteUs.addEventListener("click",function(a){a.preventDefault(),closeWindows(),modalWriteUs.classList.add("modal-show"),userName.focus()}),form.addEventListener("submit",function(a){userName.value&&eMail.value&&textArea.value||(modalWriteUs.classList.remove("modal-error"),modalWriteUs.offsetWidth=modalWriteUs.offsetWidth,a.preventDefault(),modalWriteUs.classList.add("modal-error"))})}if(slides&&slidePages&&prev&&next){prev.addEventListener("click",function(a){a.preventDefault(),prevSlide()}),next.addEventListener("click",function(a){a.preventDefault(),nextSlide()});for(var i=0;i<slidePages.length;i++)clickPage(slidePages[i],slides[i])}window.addEventListener("keydown",function(a){27==a.keyCode&&closeWindows()});for(var i=0;i<modalClose.length;i++)modalClose[i].addEventListener("click",function(a){a.preventDefault(),closeWindows()});for(var i=0;i<buttonBuy.length;i++)buttonBuy[i].addEventListener("click",function(a){a.preventDefault(),closeWindows(),modalCart.classList.add("modal-show")});if(btnContinue.addEventListener("click",function(a){a.preventDefault(),closeWindows()}),serviceTabs&&serviceBlocks)for(var i=0;i<serviceTabs.length;i++)clickTabs(serviceTabs[i],serviceBlocks[i]);mapLink&&mapLink.addEventListener("click",function(a){a.preventDefault(),closeWindows(),mapBlock.classList.add("show-window")});
